<script>
navigator.serviceWorker.register("/sw.js").then(() => {
  console.log("[INFO] Service worker registered.");

  setTimeout(() => {
    console.log("[INFO] Attempting fetch to /proxy/notes");

    fetch("/proxy/notes")
      .then(r => r.text())
      .then(console.log)
      .catch(e => console.error("[Fetch Error]", e));

    // Optional: iframe method fallback
    const iframe = document.createElement("iframe");
    iframe.src = "/proxy/notes";
    document.body.appendChild(iframe);
  }, 1500);
});
</script>
